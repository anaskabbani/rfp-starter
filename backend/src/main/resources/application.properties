server.port=${PORT:8080}

spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/app}
spring.datasource.username=${DB_USER:app}
spring.datasource.password=${DB_PASS:app}

# Debug logging for datasource
logging.level.org.springframework.jdbc.datasource=DEBUG
logging.level.com.zaxxer.hikari=DEBUG

spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.show_sql=false

spring.flyway.enabled=true
spring.flyway.default-schema=public
spring.flyway.locations=classpath:db/migration/public

spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB
spring.servlet.multipart.file-size-threshold=2KB

# AWS S3 Configuration
aws.s3.bucket=${S3_BUCKET:mosaic-orgs}
aws.s3.region=${AWS_REGION:us-east-1}
aws.access.key.id=${AWS_ACCESS_KEY_ID:}
aws.secret.access.key=${AWS_SECRET_ACCESS_KEY:}

logging.level.root=INFO
logging.level.com.acme.saas=INFO

# Clerk JWT Validation
spring.security.oauth2.resourceserver.jwt.issuer-uri=${CLERK_ISSUER_URI:https://your-clerk-instance.clerk.accounts.dev}
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=${CLERK_JWKS_URI:https://your-clerk-instance.clerk.accounts.dev/.well-known/jwks.json}

# API Keys for service-to-service authentication (comma-separated)
api.keys=${API_KEYS:}

# CORS Configuration (comma-separated origins)
# Production: set to your frontend domain(s), e.g., https://app.example.com,https://www.example.com
cors.allowed.origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}

